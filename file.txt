----------------------------573154703311177402762446
Content-Disposition: form-data; name="file"; filename="message.txt"
Content-Type: text/plain

// ==UserScript==
// @name         bus Script
// @namespace    http://tampermonkey.net/
// @version      0.1
// @description  try to take over the world!
// @author       You
// @match        https://bus-med.1337.ma/
// @icon         https://www.google.com/s2/favicons?sz=64&domain=1337.ma
// @grant        none
// ==/UserScript==

(function() {
    const currentTime = new Date();

    // Define the target time as 20:00
    const targetTime = new Date(currentTime);
    targetTime.setHours(15, 38, 0, 0);
    const timeDifference = targetTime - currentTime;
    const h3Element11 = document.querySelector("body > div.maincontainer > div > h3:nth-child(1)");
    const yaaae = document.querySelector("body > div.maincontainer > div > div.alert.alert-danger.error");
    if (yaaae !== null) {
        // Reload the page
        window.location.reload();
    }
    h3Element11.style.color = "#536157";

    // Increase the size of the captcha image
    const captchaImage = document.querySelector("img.captcha");
    if (captchaImage) {
        captchaImage.style.height = "50px"; // Adjust the height as needed
    } else {
        console.error("Captcha image not found.");
    }

    // Check if it's already past 20:00
    function delayedAction_2() {
        window.location.reload();
    }

    function updateCounter() {
        const h3Element = document.querySelector("body > div.maincontainer > div > h3:nth-child(1)");
        if (h3Element) {
            const currentTime = new Date();
            const timeDifference = targetTime - currentTime;
            //h3Element.textContent = `${parseInt(timeDifference / 1000)}`;
            setTimeout(updateCounter, 1000); // Update the counter every second
        } else {
            console.error("h3 element not found.");
        }
    }


   if (timeDifference >= 5000) {
        updateCounter()
        setTimeout(delayedAction_2, timeDifference-4000);
    }

    //for bus 1
    // Find the button element using the query selector
    const button = document.querySelector("body > div.maincontainer > div > div:nth-child(2) > div.interact_container > button:nth-child(2)");
        //for bus 2
    //const button = document.querySelector("body > div.maincontainer > div > div:nth-child(3) > div.interact_container > button:nth-child(2)");

    // Check if the button element was found
    if (button) {
        // Simulate a click on the button
        button.click();
    } else {
        console.error("Button element not found.");
    }

    const targetElement = document.querySelector("#id_captcha_1");

    // Check if the element was found
    function delayedAction() {
        // Your code here
        if (targetElement) {
            // Move the cursor to the element
            targetElement.focus();
        } else {
            console.error("Element not found.");
        }
    }

    setTimeout(delayedAction, 500);

    // Detect when four characters are entered and automatically submit
    const captchaInput = document.querySelector('input[name="captcha_1"]');
    const submitButton = document.querySelector('button.btn.btn-success');

    if (captchaInput && submitButton) {
        captchaInput.addEventListener('input', function() {
            if (captchaInput.value.length === 4) {
                submitButton.click();
            }
        });
    } else {
        console.error("Captcha input or submit button not found.");
    }
})();
----------------------------573154703311177402762446--
